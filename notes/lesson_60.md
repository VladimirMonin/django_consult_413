# –¢–µ–º–∞ Django –§–æ—Ä–º—ã –ß1. –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ —Ñ–æ—Ä–º—ã? –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏. –£—Ä–æ–∫ 59

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã –Ω–∞—á–∏–Ω–∞–µ–º –±–æ–ª—å—à–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –≤ –º–∏—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞ –≤ Django. –°–µ–≥–æ–¥–Ω—è –º—ã —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–º—Å—è –Ω–∞ —Å–∞–º—ã—Ö –æ—Å–Ω–æ–≤–∞—Ö: –∫–∞–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–∏–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–æ—Å—Ç–æ–π HTML-—Ñ–æ—Ä–º—ã, –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–π –≤—Ä—É—á–Ω—É—é, –∏ —á—Ç–æ –¥–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ. –ú—ã —Ç–∞–∫–∂–µ –∫–æ—Å–Ω–µ–º—Å—è –æ–¥–Ω–æ–≥–æ –∏–∑ –≤–∞–∂–Ω–µ–π—à–∏—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ Django ‚Äî –∑–∞—â–∏—Ç—ã –æ—Ç CSRF-–∞—Ç–∞–∫.

## üõ°Ô∏è –ú–µ—Ö–∞–Ω–∏–∑–º—ã –∑–∞—â–∏—Ç—ã –≤ Django - CSRF

–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –ª—é–±–æ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ü—Ä–µ–∂–¥–µ —á–µ–º –º—ã –Ω–∞—á–Ω–µ–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –º—ã –¥–æ–ª–∂–Ω—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥–µ–ª–∞–µ–º —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ. Django –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –º–Ω–æ–≥–∏—Ö —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π, –∏ –æ–¥–Ω–∞ –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö ‚Äî —ç—Ç–æ –∑–∞—â–∏—Ç–∞ –æ—Ç CSRF.

### ü§î –ß—Ç–æ —Ç–∞–∫–æ–µ CSRF?

CSRF (Cross-Site Request Forgery) –∏–ª–∏ "–ú–µ–∂—Å–∞–π—Ç–æ–≤–∞—è –ø–æ–¥–¥–µ–ª–∫–∞ –∑–∞–ø—Ä–æ—Å–∞" ‚Äî —ç—Ç–æ —Ç–∏–ø –∞—Ç–∞–∫–∏, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –±—Ä–∞—É–∑–µ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞ —Å–∞–π—Ç–µ, –∫–æ—Ç–æ—Ä–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–≤–µ—Ä—è–µ—Ç. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã –Ω–∞ —Å–≤–æ–µ–π –ª—é–±–∏–º–æ–π —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ. –í—ã –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ, –∫–æ—Ç–æ—Ä—É—é –≤–∞–º –ø—Ä–∏—Å–ª–∞–ª –¥—Ä—É–≥, –Ω–∞ —Å–∞–π—Ç —Å –∑–∞–±–∞–≤–Ω—ã–º–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏. –ë–µ–∑ –≤–∞—à–µ–≥–æ –≤–µ–¥–æ–º–∞ —ç—Ç–æ—Ç —Å–∞–π—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤–∞—à—É —Å–æ—Ü–∏–∞–ª—å–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É, —á—Ç–æ–±—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç –æ—Ç –≤–∞—à–µ–≥–æ –∏–º–µ–Ω–∏ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –≤–∞—à –ø–∞—Ä–æ–ª—å. –ü–æ—Å–∫–æ–ª—å–∫—É –≤—ã –≤—Å–µ –µ—â–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã, –≤–∞—à –±—Ä–∞—É–∑–µ—Ä —É—Å–ª—É–∂–ª–∏–≤–æ –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç –∫ —ç—Ç–æ–º—É –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–º—É –∑–∞–ø—Ä–æ—Å—É –≤–∞—à–∏ —Å–µ—Å—Å–∏–æ–Ω–Ω—ã–µ cookie, –∏ —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –Ω–µ –≤–∏–¥—è –ø–æ–¥–≤–æ—Ö–∞, –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ. –í —ç—Ç–æ–º –∏ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è —Å—É—Ç—å –∞—Ç–∞–∫–∏: —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è –¥–æ–≤–µ—Ä–∏—è —Å–∞–π—Ç–∞ –∫ –≤–∞—à–µ–º—É –±—Ä–∞—É–∑–µ—Ä—É.

### ‚ùì –ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω–Ω—ã–º –æ—Ç CSRF?

–ó–∞—â–∏—Ç–∞ –æ—Ç CSRF –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–∞–∫–∏–µ –∞—Ç–∞–∫–∏ –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å–µ—Ä—å–µ–∑–Ω—ã–º –∏ –Ω–µ–æ–±—Ä–∞—Ç–∏–º—ã–º –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º. –ï—Å–ª–∏ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏, –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –º–æ–∂–µ—Ç –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤. –ï—Å–ª–∏ —ç—Ç–æ —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å ‚Äî –æ–Ω –º–æ–∂–µ—Ç —Ä–∞—Å—Å—ã–ª–∞—Ç—å —Å–ø–∞–º –æ—Ç –≤–∞—à–µ–≥–æ –∏–º–µ–Ω–∏, —É–¥–∞–ª—è—Ç—å –¥—Ä—É–∑–µ–π –∏–ª–∏ –º–µ–Ω—è—Ç—å –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –í —Å–ª—É—á–∞–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏ ‚Äî –æ–Ω –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞. –ü–æ —Å—É—Ç–∏, –ª—é–±–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∏ –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–º —á–µ—Ä–µ–∑ CSRF-–∞—Ç–∞–∫—É. –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É Django –ø–æ–¥—Ö–æ–¥–∏—Ç –∫ —ç—Ç–æ–º—É –≤–æ–ø—Ä–æ—Å—É –æ—á–µ–Ω—å —Å–µ—Ä—å–µ–∑–Ω–æ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞–¥–µ–∂–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –∑–∞—â–∏—Ç—ã "–∏–∑ –∫–æ—Ä–æ–±–∫–∏".

> [!warning]
>
> #### ‚ö†Ô∏è –í–∞–∂–Ω–æ—Å—Ç—å –∑–∞—â–∏—Ç—ã –æ—Ç CSRF
>
> CSRF-–∞—Ç–∞–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞–º –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–µ–∑ –µ–≥–æ –≤–µ–¥–æ–º–∞. –ó–∞—â–∏—Ç–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.

### üîê –¢–µ–≥ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–∞ `{% csrf_token %}` –∏ –∫—É–¥–∞ –µ–≥–æ –ø–æ–º–µ—â–∞—Ç—å?

–î–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç CSRF-–∞—Ç–∞–∫ Django –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ —Å–µ–∫—Ä–µ—Ç–Ω–æ–º —Ç–æ–∫–µ–Ω–µ. –≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–Ω–æ —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤:

1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞**: –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —Ñ–æ—Ä–º–æ–π, Django –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π, –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å–ª—É—á–∞–π–Ω—ã–π —Ç–æ–∫–µ–Ω (CSRF-—Ç–æ–∫–µ–Ω).
2. **–û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–æ–∫–µ–Ω–∞ –∫–ª–∏–µ–Ω—Ç—É**: –≠—Ç–æ—Ç —Ç–æ–∫–µ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É –¥–≤—É–º—è –ø—É—Ç—è–º–∏. –í–æ-–ø–µ—Ä–≤—ã—Ö, –æ–Ω —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ –≤–∏–¥–µ cookie (`csrftoken`) –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –í–æ-–≤—Ç–æ—Ä—ã—Ö, –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ç–µ–≥–∞ `{% csrf_token %}` –≤ —à–∞–±–ª–æ–Ω–µ, —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π —Ç–æ–∫–µ–Ω –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ HTML-–∫–æ–¥ —Ñ–æ—Ä–º—ã –≤ –≤–∏–¥–µ —Å–∫—Ä—ã—Ç–æ–≥–æ –ø–æ–ª—è `<input type="hidden" name="csrfmiddlewaretoken" value="...">`.
3. **–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã**: –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ä–º—É (—Å–æ–≤–µ—Ä—à–∞–µ—Ç POST-–∑–∞–ø—Ä–æ—Å), –±—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç cookie `csrftoken` –∫ –∑–∞–ø—Ä–æ—Å—É, –∞ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–∫—Ä—ã—Ç–æ–≥–æ –ø–æ–ª—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ —Ñ–æ—Ä–º—ã.
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**: –ù–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Django (`CsrfViewMiddleware`) –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å. –û–Ω –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∏–∑ cookie –∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∏–∑ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ (–∏–∑ —Å–∫—Ä—ã—Ç–æ–≥–æ –ø–æ–ª—è). –ï—Å–ª–∏ –æ–±–∞ —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ–≤–ø–∞–¥–∞—é—Ç, –∑–∞–ø—Ä–æ—Å —Å—á–∏—Ç–∞–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –¥–∞–ª—å—à–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –≤–æ view. –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω—ã –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç –∏–ª–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, Django –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É `413 Forbidden`.

–ß—Ç–æ–±—ã —ç—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç–∞–ª, –≤–∞–º –Ω—É–∂–Ω–æ –≤—Å–µ–≥–æ –ª–∏—à—å –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ–≥ `{% csrf_token %}` –≤–Ω—É—Ç—Ä—å –∫–∞–∂–¥–æ–π –≤–∞—à–µ–π HTML-—Ñ–æ—Ä–º—ã, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥–æ–º `POST`. Django –ø–æ–∑–∞–±–æ—Ç–∏—Ç—Å—è –æ–±–æ –≤—Å–µ–º –æ—Å—Ç–∞–ª—å–Ω–æ–º.
#TODO –ü–û–î–ì–†–£–ó–ò–¢–¨ –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–Ø –ò–ó 411
![csrf_token_browser.png](./images/csrf_token_browser.png)

–ù–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –≤—ã—à–µ –ø–æ–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ —ç—Ç–æ—Ç —Ç–µ–≥ –≤—ã–≥–ª—è–¥–∏—Ç –≤ –∏—Ç–æ–≥–æ–≤–æ–º HTML-–∫–æ–¥–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –û–Ω –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Å–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ `<input type="hidden" name="csrfmiddlewaretoken" value="...">`, –≥–¥–µ `value` ‚Äî —ç—Ç–æ —Ç–æ—Ç —Å–∞–º—ã–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω. –†–∞–∑–º–µ—â–∞—Ç—å –µ–≥–æ –Ω—É–∂–Ω–æ –≤—Å–µ–≥–¥–∞ –≤–Ω—É—Ç—Ä–∏ —Ç–µ–≥–∞ `<form>`, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –µ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è.

## üìù –†–∞–∑–±–µ—Ä–µ–º –ø—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–π —Ñ–æ—Ä–º—ã

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –∏ –æ–±—Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞—à—É –ø–µ—Ä–≤—É—é —Ñ–æ—Ä–º—É. –ú—ã –Ω–µ –±—É–¥–µ–º –ø–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å `forms.Form` –∏–∑ Django, –∞ —Å–¥–µ–ª–∞–µ–º –≤—Å–µ "–≤—Ä—É—á–Ω—É—é", —á—Ç–æ–±—ã –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç "–ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º". –ú—ã —Å–≤–µ—Ä—Å—Ç–∞–µ–º —Ñ–æ—Ä–º—É –ø—Ä—è–º–æ –≤ HTML-—à–∞–±–ª–æ–Ω–µ –∏ –Ω–∞–ø–∏—à–µ–º view-—Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –µ–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏.

### üë®‚Äçüíª HTML-–∫–æ–¥ —Ñ–æ—Ä–º—ã

–í–æ—Ç –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–∞—à —à–∞–±–ª–æ–Ω —Å —Ñ–æ—Ä–º–æ–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏ –Ω–∞ –ø—Ä–∏–µ–º. –≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä —Ñ–æ—Ä–º—ã, —Å–≤–µ—Ä—Å—Ç–∞–Ω–Ω–æ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ Bootstrap –¥–ª—è –ø—Ä–∏–¥–∞–Ω–∏—è –µ–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –≤–∏–¥–∞. –î–∞–≤–∞–π—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–±–µ—Ä–µ–º –∫–ª—é—á–µ–≤—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã —Ç–µ–≥–æ–≤, —Ç–∞–∫ –∫–∞–∫ –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö –∏–≥—Ä–∞–µ—Ç –≤–∞–∂–Ω—É—é —Ä–æ–ª—å –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

```html
{% extends "base.html" %}
{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card mt-5">
                <div class="card-body text-center">
                    <h1 class="card-title">–ó–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–∏—ë–º</h1>
                    <form action="" method="post">
                        {% csrf_token %}
                        <input type="text" name="name" placeholder="–ò–º—è" class="form-control mb-3 mt-3" required>
                        <input type="tel" name="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" class="form-control mb-3" required>
                        <textarea name="comment" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π" class="form-control mb-3" rows="10"></textarea>
                        <button type="submit" class="btn btn-dark">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
```

–ó–¥–µ—Å—å –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å —Ä–æ–ª—å –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞:

- `method="post"`: –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–µ—Ç–æ–¥ `POST` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ ‚Äî —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–∏).
- `{% csrf_token %}`: –ö–∞–∫ –º—ã —É–∂–µ –≤—ã—è—Å–Ω–∏–ª–∏, —ç—Ç–æ –Ω–∞—à —â–∏—Ç –æ—Ç CSRF-–∞—Ç–∞–∫. –ë–µ–∑ –Ω–µ–≥–æ Django –ø—Ä–æ—Å—Ç–æ –Ω–µ –ø—Ä–∏–º–µ—Ç POST-–∑–∞–ø—Ä–æ—Å –∏ –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É `403 Forbidden`.
- –ê—Ç—Ä–∏–±—É—Ç `name`: –≠—Ç–æ **–∫–ª—é—á–µ–≤–æ–π** –∞—Ç—Ä–∏–±—É—Ç. –ò–º–µ–Ω–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞ `name` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `name="name"` –∏–ª–∏ `name="phone"`) —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫–ª—é—á–æ–º –≤ —Å–ª–æ–≤–∞—Ä–µ `request.POST`, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –º—ã —Å–º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –¥–∞–Ω–Ω—ã–µ –≤–æ view.
- –ê—Ç—Ä–∏–±—É—Ç—ã `placeholder`, `class`, `rows`: –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ HTML-–∞—Ç—Ä–∏–±—É—Ç—ã, –æ—Ç–≤–µ—á–∞—é—â–∏–µ –∑–∞ –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ –∏ —É–¥–æ–±—Å—Ç–≤–æ —Ñ–æ—Ä–º—ã. `placeholder` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞, `class` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é CSS (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ, Bootstrap), –∞ `rows` –∑–∞–¥–∞–µ—Ç –≤—ã—Å–æ—Ç—É —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—è `textarea`.

## ‚öôÔ∏è View –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–æ–π —Ñ–æ—Ä–º—ã

–¢–µ–ø–µ—Ä—å –Ω–∞–ø–∏—à–µ–º –ª–æ–≥–∏–∫—É –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —ç—Ç–æ–π —Ñ–æ—Ä–º—ã. –ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞: –Ω–∞—á–∞–ª—å–Ω—ã–π, –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞, –∏ –∫–æ–Ω–µ—á–Ω—ã–π, —Ä–∞–±–æ—á–∏–π –≤–∞—Ä–∏–∞–Ω—Ç.

### üêû –ù–∞—á–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤—É—é—Ç –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É, –¥–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—É—é view-—Ñ—É–Ω–∫—Ü–∏—é. –û–Ω–∞ –Ω–µ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑—É, –µ–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ü–µ–ª—å ‚Äî –ø—Ä–∏–Ω—è—Ç—å GET-–∑–∞–ø—Ä–æ—Å –∏ –æ—Ç–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —Ñ–æ—Ä–º–æ–π, –∞ –∑–∞—Ç–µ–º –ø—Ä–∏–Ω—è—Ç—å POST-–∑–∞–ø—Ä–æ—Å –∏ –æ—Ç–¥–∞—Ç—å —Ç—É –∂–µ —Å–∞–º—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É. –≠—Ç–æ—Ç, –∫–∞–∑–∞–ª–æ—Å—å –±—ã, –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã–π –∫–æ–¥ —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–ª–∏—á–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –º–µ—Ö–∞–Ω–∏–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤.

```python
def order_create(request):
    if request.method == "GET":
        return render(request, "order_form.html")
    
    elif request.method == "POST":
        return render(request, "order_form.html")
```

–≠—Ç–æ—Ç –∫–æ–¥ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ, –Ω–æ –æ–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –∑–∞–≥–ª—è–Ω—É—Ç—å –≤ "–∫—É—Ö–Ω—é" HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤. –ï—Å–ª–∏ –º—ã –∑–∞–ø–æ–ª–Ω–∏–º —Ñ–æ—Ä–º—É –∏ –Ω–∞–∂–º–µ–º "–ó–∞–ø–∏—Å–∞—Ç—å—Å—è", –º—ã —Å–º–æ–∂–µ–º —É–≤–∏–¥–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –≤–µ—â–µ–π.

![post_request_browser_console.png](./images/post_request_browser_console.png)

–í –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–°–µ—Ç—å" –∏–ª–∏ "Network") –º—ã —É–≤–∏–¥–∏–º, —á—Ç–æ –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω POST-–∑–∞–ø—Ä–æ—Å, –∏ –≤–æ –≤–∫–ª–∞–¥–∫–µ "Payload" –∏–ª–∏ "–ù–∞–≥—Ä—É–∑–∫–∞" –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –≤—Å–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞–º–∏ –¥–∞–Ω–Ω—ã–µ: `csrfmiddlewaretoken`, `name`, `phone` –∏ `comment`. –≠—Ç–æ –¥–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —É—Ö–æ–¥—è—Ç —Å –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

![post_request_debug.png](./images/post_request_debug.png)

–ï—Å–ª–∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ—á–∫—É –æ—Å—Ç–∞–Ω–æ–≤–∞ –≤ –æ—Ç–ª–∞–¥—á–∏–∫–µ Django (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ PyCharm) –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ `elif request.method == "POST"`, –º—ã —É–≤–∏–¥–∏–º, —á—Ç–æ –æ–±—ä–µ–∫—Ç `request` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–æ–≤–∞—Ä—å `request.POST`. –í –Ω–µ–º –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤—Å–µ —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –≤–∏–¥–µ–ª–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –≠—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ Django —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–Ω—è–ª –∏ —Ä–∞—Å–ø–∞—Ä—Å–∏–ª –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã.

### ‚úÖ –ö–æ–Ω–µ—á–Ω—ã–π —Ä–∞–±–æ—á–∏–π –≤–∞—Ä–∏–∞–Ω—Ç

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –º—ã —É–±–µ–¥–∏–ª–∏—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –¥–æ—Ö–æ–¥—è—Ç –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –¥–æ —Å–µ—Ä–≤–µ—Ä–∞, –ø–æ—Ä–∞ –Ω–∞–ø–∏—Å–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É –¥–ª—è –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏. –ù–∞—à–∞ —Ü–µ–ª—å ‚Äî –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ `request.POST`, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Ö –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å (–≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é) –∏, –µ—Å–ª–∏ –≤—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ, —Å–æ–∑–¥–∞—Ç—å –Ω–∞ –∏—Ö –æ—Å–Ω–æ–≤–µ –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –º—ã –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ.

```python
from django.shortcuts import render, redirect
from django.http import HttpResponse
from .models import Order

def order_create(request):
    if request.method == "GET":
        return render(request, "order_form.html")
    
    elif request.method == "POST":
        # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã
        name = request.POST.get("name")
        phone = request.POST.get("phone")
        comment = request.POST.get("comment")
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –µ—Å—Ç—å –∏–º—è –∏ —Ç–µ–ª–µ—Ñ–æ–Ω
        if not name or not phone:
            return HttpResponse("–ù–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è", status=400)
        
        # –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç –∑–∞—è–≤–∫–∏
        order = Order.objects.create(
            name=name,
            phone=phone,
            comment=comment,
        )
        
        # –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏
        return redirect("thanks")
```

> [!info]
>
> #### ‚ÑπÔ∏è –†–∞–±–æ—Ç–∞ —Å `request.POST`
>
> –î–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ `request.POST` ‚Äî —ç—Ç–æ —Å–ª–æ–≤–∞—Ä—å-like –æ–±—ä–µ–∫—Ç (`QueryDict`). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `.get()` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —Å–∫–æ–±–∫–∏ (`request.POST['key']`), `.get('key')` –Ω–µ –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É `KeyError`, –µ—Å–ª–∏ –∫–ª—é—á –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Å–ª–æ–≤–∞—Ä–µ, –∞ –≤–µ—Ä–Ω–µ—Ç `None`.

–í —ç—Ç–æ–º –∫–æ–¥–µ –º—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ:

1. –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ `request.POST` —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `.get()`.
2. –í—ã–ø–æ–ª–Ω—è–µ–º –ø—Ä–æ—Å—Ç–µ–π—à—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é: –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è `name` –∏ `phone` –±—ã–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—à–∏–±–∫—É.
3. –ï—Å–ª–∏ –≤—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º `Order.objects.create()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ `Order` –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –ø–µ—Ä–µ–¥–∞–≤–∞—è –≤ –Ω–µ–≥–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
4. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–°–ø–∞—Å–∏–±–æ" —Å –ø–æ–º–æ—â—å—é `redirect("thanks")`. –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞, –∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞–∫ "Post/Redirect/Get" (PRG), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É —Ñ–æ—Ä–º—ã –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

–ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç —Ä—É—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTML —Ñ–æ—Ä–º—ã?

```mermaid
sequenceDiagram
    participant User as –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant Browser as –ë—Ä–∞—É–∑–µ—Ä
    participant URL as URL Router
    participant View as service_create View
    participant Form as HTML Form
    participant Model as Service Model
    participant DB as –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

    Note over User, DB: –°–û–ó–î–ê–ù–ò–ï –£–°–õ–£–ì–ò

    User->>Browser: –û—Ç–∫—Ä—ã–≤–∞–µ—Ç /service/create/
    Browser->>URL: GET /service/create/
    URL->>View: –í—ã–∑–æ–≤ service_create()
    
    Note over View: request.method == "GET"
    View->>View: context = {"operation_type": "–°–æ–∑–¥–∞–Ω–∏–µ —É—Å–ª—É–≥–∏"}
    View->>Form: render(service_form.html, context)
    Form->>Browser: HTML —Ñ–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏
    Browser->>User: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—É—Å—Ç–æ–π —Ñ–æ—Ä–º—ã

    Note over User, DB: –ó–ê–ü–û–õ–ù–ï–ù–ò–ï –ò –û–¢–ü–†–ê–í–ö–ê –§–û–†–ú–´

    User->>Browser: –ó–∞–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª—è —Ñ–æ—Ä–º—ã
    Note over Browser: service_name<br/>service_description<br/>service_price
    User->>Browser: –ù–∞–∂–∏–º–∞–µ—Ç "–°–æ–∑–¥–∞–Ω–∏–µ —É—Å–ª—É–≥–∏"
    Browser->>URL: POST /service/create/
    URL->>View: –í—ã–∑–æ–≤ service_create()

    Note over View: request.method == "POST"
    View->>View: service_name = request.POST.get("service_name")
    View->>View: service_description = request.POST.get("service_description")
    View->>View: service_price = request.POST.get("service_price")

    alt –í—Å–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –∏ —Ü–µ–Ω–∞ —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ–º
        Note over View: if service_name and service_description<br/>and service_price and service_price.isdigit()
        
        View->>Model: Service.objects.create()
        Note over Model: –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:<br/>name=service_name<br/>description=service_description<br/>price=service_price
        Model->>DB: INSERT –∑–∞–ø—Ä–æ—Å
        DB-->>Model: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è
        Model-->>View: service –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–Ω
        View->>Browser: redirect("services-list")
        Browser->>User: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–ø–∏—Å–æ–∫ —É—Å–ª—É–≥

    else –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
        View->>View: messages.error(request, "–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —É—Å–ª—É–≥–∏")
        View->>View: context = {"operation_type": "–°–æ–∑–¥–∞–Ω–∏–µ —É—Å–ª—É–≥–∏"}
        View->>Form: render(service_form.html, context)
        Form->>Browser: HTML —Ñ–æ—Ä–º–∞ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ
        Browser->>User: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã —Å –æ—à–∏–±–∫–æ–π
    end

    Note over User, DB: –û–ë–ù–û–í–õ–ï–ù–ò–ï –£–°–õ–£–ì–ò

    User->>Browser: –û—Ç–∫—Ä—ã–≤–∞–µ—Ç /service/update/<service_id>/
    Browser->>URL: GET /service/update/<service_id>/
    URL->>View: –í—ã–∑–æ–≤ service_update(service_id)
    
    View->>Model: Service.objects.get(id=service_id)
    Model->>DB: SELECT –∑–∞–ø—Ä–æ—Å
    DB-->>Model: –î–∞–Ω–Ω—ã–µ —É—Å–ª—É–≥–∏
    Model-->>View: service –æ–±—ä–µ–∫—Ç

    Note over View: request.method == "GET"
    View->>View: context = {"service": service, "operation_type": "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏"}
    View->>Form: render(service_form.html, context)
    Form->>Browser: HTML —Ñ–æ—Ä–º–∞ —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
    Browser->>User: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã —Å —Ç–µ–∫—É—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

    Note over User, DB: –ò–ó–ú–ï–ù–ï–ù–ò–ï –ò –û–¢–ü–†–ê–í–ö–ê

    User->>Browser: –ò–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–µ
    User->>Browser: –ù–∞–∂–∏–º–∞–µ—Ç "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏"
    Browser->>URL: POST /service/update/<service_id>/
    URL->>View: –í—ã–∑–æ–≤ service_update(service_id)

    View->>Model: Service.objects.get(id=service_id)
    Model->>DB: SELECT –∑–∞–ø—Ä–æ—Å
    DB-->>Model: –î–∞–Ω–Ω—ã–µ —É—Å–ª—É–≥–∏
    Model-->>View: service –æ–±—ä–µ–∫—Ç

    Note over View: request.method == "POST"
    View->>View: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ POST
    
    alt –í—Å–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –∏ —Ü–µ–Ω–∞ —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ–º
        View->>Model: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π service –æ–±—ä–µ–∫—Ç–∞
        View->>Model: service.save()
        Model->>DB: UPDATE –∑–∞–ø—Ä–æ—Å
        DB-->>Model: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
        Model-->>View: –£—Å–ª—É–≥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞
        View->>Browser: redirect("services-list")
        Browser->>User: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–ø–∏—Å–æ–∫ —É—Å–ª—É–≥

    else –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
        View->>View: messages.error(request, "–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —É—Å–ª—É–≥–∏")
        View->>View: context —Å service –∏ operation_type
        View->>Form: render(service_form.html, context)
        Form->>Browser: HTML —Ñ–æ—Ä–º–∞ —Å –æ—à–∏–±–∫–æ–π
        Browser->>User: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã —Å –æ—à–∏–±–∫–æ–π
    end
```

## üîÑ –í–∞—Ä–∏–∞–Ω—Ç —Ñ–æ—Ä–º—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Order

–õ–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–ø–∏—Å–∏ –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂–∞ –Ω–∞ –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è. –ù–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –Ω–æ–≤–∞—è view-—Ñ—É–Ω–∫—Ü–∏—è `order_update`, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å `id` –∑–∞—è–≤–∫–∏, –∏ –Ω–µ–º–Ω–æ–≥–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω.

### üõ†Ô∏è View –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```python
from django.core.exceptions import ObjectDoesNotExist

def order_update(request, order_id):
    try:
        order = Order.objects.get(id=order_id)
    except ObjectDoesNotExist:
        return HttpResponse("–ó–∞—è–≤–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞", status=404)

    if request.method == "GET":
        context = {
            "title": "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏",
            "button_text": "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",
            "order": order,
        }
        return render(request, "order_form.html", context)
    
    elif request.method == "POST":
        name = request.POST.get("name")
        phone = request.POST.get("phone")
        comment = request.POST.get("comment")

        if not name or not phone:
            return HttpResponse("–ù–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è", status=400)
        
        order.name = name
        order.phone = phone
        order.comment = comment
        order.save()
        
        return redirect("thanks")
```

–ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç –ª–æ–≥–∏–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–ª—é—á–∞—é—Ç—Å—è –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–∞–∫ GET, —Ç–∞–∫ –∏ POST –∑–∞–ø—Ä–æ—Å–æ–≤:

- **–û–±—Ä–∞–±–æ—Ç–∫–∞ GET-–∑–∞–ø—Ä–æ—Å–∞**: –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –º—ã –¥–æ–ª–∂–Ω—ã —Å–Ω–∞—á–∞–ª–∞ –Ω–∞–π—Ç–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Ç—É —Å–∞–º—É—é –∑–∞—è–≤–∫—É, –∫–æ—Ç–æ—Ä—É—é –æ–Ω —Ö–æ—á–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å. –ú—ã –¥–µ–ª–∞–µ–º —ç—Ç–æ —Å –ø–æ–º–æ—â—å—é `Order.objects.get(id=order_id)`. –í–∞–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å —ç—Ç–æ—Ç –≤—ã–∑–æ–≤ –≤ –±–ª–æ–∫ `try...except ObjectDoesNotExist`, —á—Ç–æ–±—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é, –µ—Å–ª–∏ –∑–∞—è–≤–∫–∏ —Å —Ç–∞–∫–∏–º `id` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–ª –Ω–µ–≤–µ—Ä–Ω—ã–π URL). –ï—Å–ª–∏ –∑–∞—è–≤–∫–∞ –Ω–∞–π–¥–µ–Ω–∞, –º—ã –ø–µ—Ä–µ–¥–∞–µ–º –µ–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç —à–∞–±–ª–æ–Ω–∞. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –Ω–∞–º –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ (–∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π) –≤ –ø–æ–ª—è —Ñ–æ—Ä–º—ã, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–µ–ª, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –æ–Ω —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç.
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ POST-–∑–∞–ø—Ä–æ—Å–∞**: –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–Ω—É—é —Ñ–æ—Ä–º—É, –º—ã —Å–Ω–æ–≤–∞ –ø–æ–ª—É—á–∞–µ–º –æ–±—ä–µ–∫—Ç `order` –∏–∑ –±–∞–∑—ã. –ù–æ –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —á–µ—Ä–µ–∑ `.create()`, –º—ã –∏–∑–º–µ–Ω—è–µ–º –∞—Ç—Ä–∏–±—É—Ç—ã —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞ (`order.name = new_name`, `order.phone = new_phone` –∏ —Ç.–¥.). –ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –º—ã –≤—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ `.save()` —É —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞. –ò–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç –≤—ã–∑–æ–≤ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç SQL-–∑–∞–ø—Ä–æ—Å `UPDATE` –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–ø–∏—Å–∏.

> [!highlight]
>
> #### üåü –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `save()` vs `update()`
>
> –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –º—ã —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∞–µ–º –æ–±—ä–µ–∫—Ç, –∞ –ø–æ—Ç–æ–º –≤—ã–∑—ã–≤–∞–µ–º —É –Ω–µ–≥–æ –º–µ—Ç–æ–¥ `.save()`. –≠—Ç–æ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –º–æ–¥–µ–ª—å—é —Å–∏–≥–Ω–∞–ª—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `pre_save`, `post_save`), —á—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏. –ú–µ—Ç–æ–¥ `.update()` –Ω–∞ QuerySet'–∞—Ö (`Order.objects.filter(id=order_id).update(...)`) —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ SQL, –æ–Ω –±—ã—Å—Ç—Ä–µ–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π, –Ω–æ –æ–Ω –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–∏–≥–Ω–∞–ª—ã –º–æ–¥–µ–ª–∏.

### üìÑ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω

–ò–º–µ—Ç—å –¥–≤–∞ –ø–æ—á—Ç–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî –ø–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞. –≠—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø DRY (Don't Repeat Yourself). –ì–æ—Ä–∞–∑–¥–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ —Å–æ–∑–¥–∞—Ç—å –æ–¥–∏–Ω —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, —Å–æ–∑–¥–∞–µ–º –º—ã –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é. –≠—Ç–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –∑–∞ —Å—á–µ—Ç —É–º–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –∏–∑ view, –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–∞ Django.

```html
{% extends "base.html" %}
{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card mt-5">
                <div class="card-body text-center">
                    <h1 class="card-title">
                        {{ title|default:"–ó–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–∏—ë–º" }}
                    </h1>
                    <form action="" method="post">
                        {% csrf_token %}
                        <input type="text" name="name" placeholder="–ò–º—è" class="form-control mb-3 mt-3" value="{{ order.name }}" required>
                        <input type="tel" name="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" class="form-control mb-3" value="{{ order.phone }}" required>
                        <textarea name="comment" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π" class="form-control mb-3" rows="10">{{ order.comment }}</textarea>
                        <button type="submit" class="btn btn-dark">{{ button_text|default:"–ó–∞–ø–∏—Å–∞—Ç—å—Å—è" }}</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
```

–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Ç–µ–∫—Å—Ç –Ω–∞ –∫–Ω–æ–ø–∫–µ —Ç–µ–ø–µ—Ä—å –±–µ—Ä—É—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö `{{ title }}` –∏ `{{ button_text }}`. –ú—ã —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–∏–ª—å—Ç—Ä `default`, —á—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω—ã –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.
- –í –ø–æ–ª—è `input` –¥–æ–±–∞–≤–ª–µ–Ω –∞—Ç—Ä–∏–±—É—Ç `value="{{ order.name }}"`, –∞ –≤ `textarea` –º–µ–∂–¥—É —Ç–µ–≥–∞–º–∏ –≤—Å—Ç–∞–≤–ª–µ–Ω–æ `{{ order.comment }}`. –ï—Å–ª–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç `order`, –µ–≥–æ –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤—è—Ç—Å—è –≤ –ø–æ–ª—è —Ñ–æ—Ä–º—ã. –ï—Å–ª–∏ `order` –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω (–∫–∞–∫ –≤ —Å–ª—É—á–∞–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–∏), —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –±—É–¥—É—Ç –ø—Ä–æ—Å—Ç–æ –ø—É—Å—Ç—ã–º–∏.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –Ω–∞—É—á–∏–ª–∏—Å—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ —Ñ–æ—Ä–º—ã, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é. –û–¥–Ω–∞–∫–æ —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ —Ç—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ —Ä—É—Ç–∏–Ω–Ω–æ–≥–æ –∫–æ–¥–∞: —Ä—É—á–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, —Ä—É—á–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è. –í —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ –º—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å –º–æ—â–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º `django.forms`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —ç—Ç–∏—Ö –∑–∞–¥–∞—á, –¥–µ–ª–∞—è –∫–æ–¥ —á–∏—â–µ, –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –∏ –ø—Ä–æ—â–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ.
