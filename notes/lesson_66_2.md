# Lesson 66.2 Работа с пользователями в Django

## Модель User - стандартная модель в БД `auth_user`
- Что это
- Как хешируются пароли
- Почему они хешируются
- Можно ли их раскодировать обратно?

## Аутентификация и авторизация - что это?

- В чем между ними разница
- Определение обоих терминов
- Как в Django это проходит по-этапно


Аутентификация - это процесс проверки подлинности пользователя. Это процесс подтверждения того ли это тот человек за которым он выдает себя.

Авторизация - это процесс проверки прав пользователя. Это процесс подтверждения того, что у пользователя есть права на выполнение определенных действий.

Форма -> Человек вводит юзернейм (емейл) + пароль -> Получаем данные, хешируем пароль, проверяем идентичность ХЕШ пароля + юзернейм (емейл) -> Если все ок - аутентификация прошла успешно -> Запись в сессию -> Авторизация прошла успешно - Это Админ -> Пользователь может выполнять действия.

## Создаем приложение Users для работы с пользователями

`poetry run python manage.py startapp users`

```python
# barbershop/urls.py
from django.urls import path, include

urlpatterns = [...
    path("users/", include("users.urls")),
]
```

- Все маршруты приложения users будут доступны с префиксом `/users/`

```python
# users/urls.py

# Все его маршруты будут доступны с префиксом /users/

# users/urls.py

# Все его маршруты будут доступны с префиксом /users/

from django.urls import path
from .views import CustomLoginView, CustomLogoutView, CustomRegisterView

urlpatterns = [
    path("register/", CustomRegisterView.as_view(), name="register"),
    path("login/", CustomLoginView.as_view(), name="login"),
    path("logout/", CustomLogoutView.as_view(), name="logout"),
]
```





## Функциональный стиль вью `registr` и `login` - как это работает?

#TODO Написать функциональный стиль вью для регистрации и логина с использованием классических инструментов Django (стандартная модель пользователя)

## Классовые инструменты для авторизации

### Формы - `UserCreationForm` и `AuthenticationForm`
- Что это
- Как это работает
- Как это использовать
- Как расширить (чтбы например кастомизировать с BS5)

### View - `CreateView` и `LoginView` `LogoutView`
- Что это
- Как это работает
- Как это использовать
- Как расширить (чтбы например кастомизировать messages)